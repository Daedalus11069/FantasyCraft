<div class="chat-card attack weapon" data-item-id="{{item.id}}" data-owner-id="{{actor._id}}" data-token-id="{{token.uuid}}" data-trick1="{{data.trick1._id}}" data-trick2="{{data.trick2._id}}" data-target-id="{{data.target}}" data-ammo="{{data.ammo}}">

    <header class="card-header">
      <div class="attackbox">
        <h1 class="boxline chat-window-header" style="margin: 0px">
          <span>{{localize "fantasycraft.attack"}} - {{item.name}}</span>
        </h1>
    </header>

    <div class="dice-roll">
        <div class="dice-result">
            <div class="dice-formula">
                {{data.formula}}
            </div>
            <div class="dice-tooltip">
                <section class="tooltip-part">
                    <div class="dice">
                        <header class="part-header flexrow">
                            <span class="part-formula">{{data.formula}}</span>
                            {{#if this.flavor}}<span class="part-flavor">{{data.flavor}}</span>{{/if}}
                            <span class="part-total">{{data.diceRoll}}</span>
                        </header>
                        <ol class="dice-rolls">
                        {{#each data.rolls}}
                            <li class="roll {{data.classes}}">{{{data.result}}}</li>
                        {{/each}}
                        </ol>
                    </div>
                </section>
            </div>
            <div class="dice-total {{#if data.threat}}threat{{/if}} {{#if data.error}}error{{/if}} ">
                {{data.roll}}
            </div>
        </div>
    </div>

    {{#if data.trick1}}
    <div class="card-content">
        <div><b>{{localize "fantasycraft.trick"}}: </b></div>
        <div>{{data.trick1.name}}</div>
        <div>{{data.trick2.name}}</div>
    </div>
    {{/if}}

    {{#if data.convert}}
        
    {{/if}}

    <div class="card-content">
        {{#if data.areaSize}}
            <div>
                <b>{{localize "fantasycraft.area"}}: </b>
                {{data.areaSize}} {{localize "fantasycraft.ft"}} {{data.areaShape}}
            </div>
        {{/if}}
        <div>
            <b>{{localize "fantasycraft.weaponProperties"}}: </b>
            {{#if (eq data.attackType "extraSave")}}
                {{data.saveType}}
            {{/if}}  
            {{#each data.qualities as |quality id|}}
                {{id}}{{#if (isBool quality)}}{{else}} {{{quality}}}{{/if}}{{#unless @last}}, {{/unless}}
            {{/each}}
        </div>
    </div>

    {{#if (eq data.attackType "extraSave")}}
        <div class="card-buttons">
            <button class="applyCondition">{{localize "fantasycraft.applyCondition"}} </button>
        </div>
    {{else}}
        <div class="card-buttons" data-ap="{{data.qualities.ap}}" data-attack-roll="{{data.roll}}" data-attack-roll="{{data.threat}}">
            <button class="damage">{{localize "fantasycraft.damage"}} </button>
        </div>
        {{#if data.maxDamage}}
        <div class="card-buttons" data-ap="{{data.qualities.ap}}" data-attack-roll="{{data.roll}}" data-attack-roll="{{data.threat}}">
            <button class="damage">{{localize "fantasycraft.maxDamage"}} </button>
        </div>    
        {{/if}}
    {{/if}}
    {{#if data.trick1.system.button.requiresButton}}
    <div class="card-buttons">
        <button class="{{data.trick1.system.effect.additionalEffect}}">{{localize data.trick1.system.button.buttonText}} </button>
    </div>    
    {{/if}}
    {{#if data.trick2.system.button.requiresButton}}
    <div class="card-buttons">
        <button class="{{data.trick2.system.effect.additionalEffect}}">{{localize data.trick2.system.button.buttonText}} </button>
    </div>
    {{/if}}
</div>

{{! Header - Attack name DONE}}
{{! Body Formula with Dropdown that shows dice results as well DONE}}
{{! Body showing the roll total DONE}}
{{! List of qualities the attack has }}
{{! List of tricks applied to the attack DONE}}
{{! Buttons
 - Damage
 - Max Damage
 - Trick Button 1
 - Trick Button 2
 - Apply condition for natural attacks}}